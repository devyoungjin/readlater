# 1장. 데이터베이스 시스템

## 일상 속의 데이터베이스

데이터베이스는 필요한 정보를 얻기 위해 논리적으로 연관된 데이터를 모아 구조적으로 통합해 놓은 형태를 의미한다.

**검색과 변경 빈도에 따른 데이터베이스 유형**

| 검색 빈도 | 변경 빈도 | 데이터베이스 예          | 특징                                                         |
| --------- | --------- | ------------------------ | ------------------------------------------------------------ |
| 적다      | 적다      | 공룡 데이터베이스        | 검색이 많지 않아 DB 구축 필요X<br />보존가치가 있을경우 구축. |
|           | 적다      | 도서 데이터베이스        | 검색은 많지만 데이터에 대한 변경이 적음.                     |
| 적다      | 많다      | 비행기 예약 데이터베이스 | 예약/취소 등 데이터 변경이 많지만 검색은 적음.<br />실시간 검색 및 변경이 중요 |
| 많다      | 많다      | 증권 데이터베이스        | 검색도 많고 거래로 인한 변경도 많음                          |

## 데이터 베이스 개념 및 특징

**데이터베이스 개념**

- 통합된 데이터 (Integrated Data)
  - 데이터를 통합하여 하나로 저장한 데이터를 의미
  - 데이터의 중복을 최소화함으로써 중복 저장으로 인한 데이터 불일치 현상을 제거
- 저장된 데이터 (Stored Data)
  - 문서로 보관된 데이터가 아니라 컴퓨터 저장장치에 저장된 데이터를 의미
- 운영 데이터 (Operational Data)
  - 조직의 목적을 위해 사용되며, 업무를 위한 검색을 할 목적으로 저장된 데이터를 의미.
- 공용 데이터 (Shared Data)
  - 한 사람이 아닌 여러 사람이 공동으로 사용하는 데이터를 의미.
  - 둘 이상의 프로그램이 언제든지 동시에 사용가능하다.

**데이터베이스 특징**

- 실시간 접근성 (Real Time Accessibility)
  - 데이터베이스는 실시간으로 서비스
- 계속적인 변화 (Continuous Change)
  - 데이터베이스에 저장된 데이터는 어느 한 순간의 상태
  - 시간에 따라 항상 데이터는 바뀔 수 있으며, 삽입(insert), 삭제(delete), 수정(update)등의 작업(DML)으로 데이터 값이 바뀐다.
- 동시 공유 (Concurrent Sharing)
  - 데이터베이스는 여러 사람에게 동시에 공유된다.
- 내용에 따른 참조 (Reference By Content)
  - 데이터베이스에 저장된 데이터는 물리적인 위치가 아닌 데이터 값에 따라 참조된다.
  - 원하는 데이터를 얻기 위해 질의(SQL)하면, 데이터베이스는 이에 해당하는 데이터를 검색해준다.

## 데이터베이스 시스템 구성

### 데이터베이스 시스템

데이터베이스 시스템 = 데이터 모델 + 데이터베이스 + 데이터베이스 관리 시스템(DBMS)

- 데이터 모델 : 논리적인 개념으로서 데이터가 저장되는 기법

- 데이터베이스 : 하드디스크에 저장된 데이터

- DBMS : 주기억장치에 저장된 소프트웨어

## 파일시스템과 DBMS 차이

| 구분             | 파일시스템                                | DBMS                                                        |
| ---------------- | ----------------------------------------- | ----------------------------------------------------------- |
| 데이터 접근 방법 | 응용 프로그램이 파일에 직접 접근          | 응용 프로그램이 DBMS에 파일 접근 요청                       |
| 주기억장치 사용  | 적음                                      | 많음                                                        |
| 데이터 중복      | 데이터를 파일 단위로 저장하므로 중복 가능 | <mark>DBMS를 이용하여 데이터를 공유 중복 가능성 낮음</mark> |
| 데이터 일관성    | 데이터 중복 가능성으로 인해 일관성 결여   | <mark>중복제거로 데이터 일관성 유지</mark>                  |
| 데이터 독립성    | 데이터 정의와 프로그램 독립성 불가능      | <mark>데이터 정의와 프로그램 독립성 유지 가능</mark>        |

## 데이터베이스 시스템의 구성

<img src="/Users/Andy/Documents/ReadLater-Archived/데이터베이스 개론과 실습/resources/그림1-22.png" alt="데이터베이스 시스템의 구성" style="zoom:50%;" />

### 데이터베이스 언어

데이터베이스는 SQL(Structured Query Language)를 사용한다. 

SQL은 아래로 구성된다.

**DDL**

- Data Definition Language
- 데이터 정의어
- 테이블 구조를 정의하는 언어
  - CREATE, ALTER, DROP

**DML**

- Data Manipulation Language
- 데이터 조작어
- 데이터를 검색, 삽입, 삭제, 수정하는 언어
  - SELECT, INSERT, DELETE, UPDATE

**DCL**

- Data Control Language
- 데이터 제어어
- 데이터의 사용권한을 관리하는 언어
  - GRANT, REVOKE

### 데이터베이스 사용자

사용자별로 갖추어야할 지식 (◎: 매우 필요)

| 사용자          | SQL언어 | 프로그래밍 능력 | DBMS 지식 | 데이터 구성 |
| --------------- | ------- | --------------- | --------- | ----------- |
| 일반 사용자     | ✕       | ✕               | ✕         | ✕           |
| SQL 사용자      | ◎       | ✕               | ○         | ○           |
| 응용 프로그래머 | ◎       | ◎               | ○         | ○           |
| DBA             | ◎       | ○               | ◎         | ◎           |

- 응용 프로그래머
  - 일반 사용자가 데이터베이스를 이용할 수 있도록 프로그램을 만드는 사람. 사용자 인터페이스와 응용 로직을 개발한다.
- SQL 사용자
  - 응용 프로그램으로 구현되어 있지 않은 업무를 SQL을 사용하여 처리
  - 데이터 검색, 구조 변경, 통계처리 등의 모니터링 업무
- DBA
  - 데이터베이스 운영조직의 데이터베이스 시스템을 총괄하는 사람.
  - 데이터 설계, 구현, 유지보수 전 과정을 담당
  - 데이터에비스 사용자 통제, 보안, 성능 모니터링, 데이터 구성에 대한 지식 등을 요구

### DBMS

DBMS는 데이터에 접근하기 위한 사용자의 질의를 처리한다.

**DBMS의 구성**

- DML/DDL 컴파일러
  - SQL을 번역
- EMbedded DML 컴파일러
  - 응용 프로그램에 삽입된 SQL을 번역
- 질의처리기
  - 번역된 SQL을 처리

- 트랜잭션 관리자
- 파일 관리자
- 버퍼 관리자

하드디스크에 저장된 데이터베이스는 데이터에 빠르게 접근하기 위한 인덱스, 데이터 사전 등을 저장하고 있다.

### 데이터 모델

데이터를 저장하는 논리적인 개념. 데이터가 어떻게 구조화되어 저장되는지를 결정한다.

가장 많이 사용되는 모델이 <mark>관계형 데이터 모델</mark>이다.

<img src="/Users/Andy/Documents/ReadLater-Archived/데이터베이스 개론과 실습/resources/그림1-27.png" alt="데이터 모델과 관계 표현방법" style="zoom:50%;" />

### 3단계 데이터베이스 구조

데이터베이스를 보는 관점을 세 단계로 구분한 개념.

- 외부 단계 (외부 스키마)
  - 일반 사용자/응용 프로그래머가 접근하는 계층
  - 전체 데이터베이스중 하나의 논리적인 부분을 의미.
  - 서브 스키마, 또는 뷰(view)라고 한다.
- 개념 단계 (개념 스키마)
  - 전체 데이터베이스의 정의
  - 개념스키마는 데이터와 관계(relation), 제약사항, 무결성을 포함
- 내부 단계 (내부 스키마)
  - 물리적 저장장치에 데이터베이스가 실제로 저장되는 방법의 표현
- 외부/개념 매핑 (외부스키마 ↔️ 개념 스키마)
  - 외부 스키마의 데이터가 개념 스키마의 어느 부분에 해당되는지 대응
- 개념/내부 매핑 (개념스키마 ↔️ 내부스키마)
  - 개념 스키마의 데이터가 내부 스키마의 물리적 장치 어디에 어떤 방법으로 저장되는지 대응

### 데이터 독립성

데이터 독립성은 하위 단계의 내용을 추상화하여 상위 단계에 그 세부사항을 숨김으로써 한 단계 내의 변경에 대해 다른 단계와 상호 간섭이 발생하지 않도록 하는 것.

- **논리적 데이터 독립성**
  - 외부 단계와 개념 단계 사이의 독립성
  - 개념 스키마가 변경되어도 외부 스키마에는 영향을 미치지 않는다.
- **물리적 데이터 독립성**
  - 개념 단계와 내부 단계 사이의 독립성
  - 내부 스키마가 변경(저장 장치 구조 변경)되어도 개념 스키마에 영향을 미치지 않는다.